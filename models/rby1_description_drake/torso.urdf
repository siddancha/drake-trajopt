<?xml version="1.0"?>
<robot name="rb_y1_torso">

  <!-- Links -->

  <link name="link_torso_base" >
    <visual>
      <origin xyz="0 0 0" rpy="1.57079632679 0 0" />
      <geometry>
        <mesh filename="package://drake_trajopt_models/rby1_description_drake/meshes/LINK_0.obj" />
      </geometry>
    </visual>

    <collision>
      <origin xyz="0.047 0 0.112" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.09" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.007 0 0.022" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.11" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="-0.013 0 0.112" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.09" />
      </geometry>
    </collision>
  </link>

  <link name="link_torso_0">
    <inertial>
      <mass value="2.24282123" />
      <origin rpy="0 0 0" xyz="-0.08848415 0.00021367 0.00000046" />
      <inertia ixx="0.01413496" ixy="0.00092982" ixz="-0.00000010" iyy="0.01005357"
        iyz="-0.00000008" izz="0.01892525" />
    </inertial>

    <visual>
      <origin xyz="0 0 0" rpy="1.57079632679 0 0" />
      <geometry>
        <mesh filename="package://drake_trajopt_models/rby1_description_drake/meshes/LINK_1.obj" />
      </geometry>
    </visual>

    <collision>
      <origin xyz="-0.1 0.045 0" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.08" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="-0.1 -0.045 0" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.08" />
      </geometry>
    </collision>
  </link>

  <link name="link_torso_1">
    <inertial>
      <mass value="9.72162676" />
      <origin rpy="0 0 0" xyz="0.00728955 -0.01728522 0.06911380" />
      <inertia ixx="0.14862640" ixy="-0.00142621" ixz="-0.00951385" iyy="0.13854733"
        iyz="-0.00975351" izz="0.02912982" />
    </inertial>

    <visual>
      <origin xyz="0 0 0" rpy="1.57079632679 0 0" />
      <geometry>
        <mesh filename="package://drake_trajopt_models/rby1_description_drake/meshes/LINK_2.obj" />
      </geometry>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.11" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0.015 0 0.08" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.085" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0.025 0.03 0.15" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.07" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.025 -0.03 0.15" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.07" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0.025 0.04 0.22" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.07" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.025 -0.04 0.22" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.07" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0.03 0.05 0.28" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.06" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.03 0 0.28" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.06" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.03 -0.05 0.28" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.06" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0 0.05 0.35" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.08" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0 -0.05 0.35" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.08" />
      </geometry>
    </collision>
  </link>

  <link name="link_torso_2">
    <inertial>
      <mass value="9.21691850" />
      <origin rpy="0 0 0" xyz="0.00653835 -0.01769536 0.05636582" />
      <inertia ixx="0.12162270" ixy="-0.00127910" ixz="-0.00831678" iyy="0.11589190"
        iyz="-0.00873271" izz="0.03094484" />
    </inertial>

    <visual>
      <origin xyz="0 0 0" rpy="1.57079632679 0 0" />
      <geometry>
        <mesh filename="package://drake_trajopt_models/rby1_description_drake/meshes/LINK_3.obj" />
      </geometry>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.09" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0.015 0 0.08" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.085" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0.025 0.03 0.15" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.07" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.025 -0.03 0.15" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.07" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0.025 0.04 0.22" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.07" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.025 -0.04 0.22" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.07" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0.03 0.05 0.28" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.06" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.03 0 0.28" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.06" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.03 -0.05 0.28" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.06" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="0.005 0.05 0.35" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.06" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0.005 -0.05 0.35" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.06" />
      </geometry>
    </collision>
  </link>

  <link name="link_torso_3">
    <inertial>
      <mass value="4.18679196" />
      <origin rpy="0 0 0" xyz="-0.00574156 -0.01725975 0.00005610" />
      <inertia ixx="0.00849870" ixy="0.00040861" ixz="-0.00000263" iyy="0.00929513"
        iyz="-0.00001243" izz="0.00955442" />
    </inertial>

    <visual>
      <origin xyz="0 0 0" rpy="1.57079632679 0 0" />
      <geometry>
        <mesh filename="package://drake_trajopt_models/rby1_description_drake/meshes/LINK_4.obj" />
      </geometry>
    </visual>

    <!-- Note: no collision geometry, as this is entirely covered by other links. -->
  </link>

  <link name="link_torso_4">
    <inertial>
      <mass value="4.45566276" />
      <origin rpy="0 0 0" xyz="-0.09097095 0.00005085 0.02601950" />
      <inertia ixx="0.01545991" ixy="0.00001883" ixz="-0.00780349" iyy="0.02550888" iyz="0.00000715"
        izz="0.01952563" />
    </inertial>

    <visual>
      <origin xyz="0 0 0" rpy="1.57079632679 0 0" />
      <geometry>
        <mesh filename="package://drake_trajopt_models/rby1_description_drake/meshes/LINK_5.obj" />
      </geometry>
    </visual>

    <collision>
      <origin xyz="0 0 0.03" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.105" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="-0.05 0 0.03" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.1" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="-0.1 0 0.03" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.1" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="-0.17 0 0" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.07" />
      </geometry>
    </collision>
  </link>

  <link name="link_torso_5">
    <!-- Inertia provided by Rainbow in initial URDF. -->
    <!-- <inertial>
      <mass value="12.59012341" />
      <origin rpy="0 0 0" xyz="-0.01338376 0.00025621 -0.03272487" />
      <inertia ixx="0.21375525" ixy="0.00051520" ixz="0.00880124" iyy="0.16562090" iyz="-0.00023995"
        izz="0.13308879" />
    </inertial> -->

    <!-- Estimated intertia from updated Rainbow mass estimate. -->
    <!-- 32kg, in a uniform-density sphere with radius 0.15. -->
    <inertial>
      <mass value="32.0" />
      <origin rpy="0 0 0" xyz="-0.01338376 0.00025621 -0.03272487" />
      <inertia ixx="0.288" ixy="0.0" ixz="0.0" iyy="0.288" iyz="0.0" izz="0.288" />
    </inertial>

    <visual>
      <origin xyz="0 0 0" rpy="1.57079632679 0 0" />
      <geometry>
        <mesh filename="package://drake_trajopt_models/rby1_description_drake/meshes/LINK_6.obj" />
      </geometry>
    </visual>

    <collision>
      <origin xyz="0 0 0.025" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.16" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="-0.01 0 -0.1" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.13" />
      </geometry>
    </collision>

    <collision>
      <origin xyz="-0.12 0 0.06" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.13" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="-0.1 0 -0.01" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.13" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="-0.09 0 -0.08" rpy="0 0 0" />
      <geometry>
        <sphere radius="0.12" />
      </geometry>
    </collision>
  </link>

  <!-- Joints -->

  <joint name="torso_0" type="revolute">
    <parent link="link_torso_base" />
    <child link="link_torso_0" />
    <origin rpy="0.0 0.0 0.0" xyz="0.247 0.0 0.1125" />
    <axis xyz="1 0 0" />
    <limit effort="1000.0" lower="-0.34906585" upper="0.34906585" velocity="3.14159265"
      drake:acceleration="1.5" />
  </joint>

  <joint name="torso_1" type="revolute">
    <parent link="link_torso_0" />
    <child link="link_torso_1" />
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0" />
    <axis xyz="0 1 0" />
    <limit effort="1000.0" lower="-1.04719755" upper="1.52173048" velocity="3.14159265"
      drake:acceleration="1.5" />
  </joint>

  <joint name="torso_2" type="revolute">
    <parent link="link_torso_1" />
    <child link="link_torso_2" />
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.350" />
    <axis xyz="0 1 0" />
    <limit effort="1000.0" lower="-2.478367" upper="1.570796" velocity="3.14159265"
      drake:acceleration="3.141592" />
  </joint>

  <joint name="torso_3" type="revolute">
    <parent link="link_torso_2" />
    <child link="link_torso_3" />
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.350" />
    <axis xyz="0 1 0" />
    <limit effort="1000.0" lower="-0.78539816" upper="1.57079633" velocity="3.14159265"
      drake:acceleration="3.141592" />
  </joint>

  <joint name="torso_4" type="revolute">
    <parent link="link_torso_3" />
    <child link="link_torso_4" />
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0" />
    <axis xyz="1 0 0" />
    <limit effort="1000.0" lower="-0.52359878" upper="0.52359878" velocity="3.14159265"
      drake:acceleration="3.141592" />
  </joint>

  <joint name="torso_5" type="revolute">
    <parent link="link_torso_4" />
    <child link="link_torso_5" />
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.309426548461" />
    <axis xyz="0 0 1" />
    <limit effort="1000.0" lower="-1.57079633" upper="1.57079633" velocity="3.14159265"
      drake:acceleration="3.141592" />
  </joint>

  <!-- Transmissions -->

  <transmission name="torso_0_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="torso_0">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="torso_0_motor">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="torso_1_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="torso_1">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="torso_1_motor">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="torso_2_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="torso_2">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="torso_2_motor">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="torso_3_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="torso_3">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="torso_3_motor">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="torso_4_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="torso_4">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="torso_4_motor">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="torso_5_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="torso_5">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="torso_5_motor">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <!-- Collision filters -->

  <!-- With appropriate joint limits, the torso should avoid self-collision entirely. -->
  <drake:collision_filter_group name="full_torso">
    <drake:member link="link_torso_0"/>
    <drake:member link="link_torso_1"/>
    <drake:member link="link_torso_2"/>
    <drake:member link="link_torso_3"/>
    <drake:member link="link_torso_4"/>
    <drake:member link="link_torso_5"/>
    <drake:ignored_collision_filter_group name="full_torso"/>
  </drake:collision_filter_group>

  <!-- Lower torso for filtering with base. -->
  <drake:collision_filter_group name="lower_torso">
    <drake:member link="link_torso_0"/>
    <drake:member link="link_torso_1"/>
    <drake:member link="link_torso_2"/>
    <drake:member link="link_torso_3"/>
  </drake:collision_filter_group>

</robot>
